Trap : 0E
ERROR CODE: 2
EIP : 001090D8
ESP : 00000004
EBP : 00500300
EFLAGS : 00000216
EAX : 440
EBX : 00106298
ECX : 8
ESI : 00001000
EDI : 00000800
CR3 00113000
DS: 0018
ES : 0018
FS : 0
GS : 0

Based on the new trap information, I can see we're still having issues with the context switch. Let me analyze the problem:

Analysis of the Trap
Trap 0E: Page fault
Error Code 2: This indicates a write to a read-only page
EIP: 001090D8 - This is likely inside the ctx_sw function
ESP: 00000004 - This is suspiciously low, suggesting a stack issue
EAX: 440 - This could be a pointer being dereferenced
The key insight is that we're trying to write to a read-only area of memory at address 440 (the value in EAX). This suggests the context switch is trying to save data to an invalid or protected memory location.
